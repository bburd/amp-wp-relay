> # ⚠️ **Important Security Notice**
>
> Update your **AMP_SHARED_KEY** regularly (Use backups/game wipes/calendar reminders or whatever it takes to remember)!
> - Change it in your `.env` file on the AMP server.
> - Then update it in WordPress under Settings > **AMP Server Status**.
> 
> ### Keeping your key secure is critical to preventing unauthorized access.


# AMP Status Relay – Install Guide

## 🧰 Requirements for AMP

- Ubuntu/Debian AMP server  
- AMP instances running on `localhost`  
- PHP, cURL, and a web server (e.g., Nginx)
- An account with restricted permissions (Allow ONLY the "Manage" permission for each instance configured, deny ALL others)

---

## 🔧 Step 1: Install PHP & Web Server

```bash
sudo apt update
sudo apt install php php-cli php-curl php-fpm unzip nginx -y
```

---

## 📂 Step 2: Setup Directory

```bash
sudo mkdir -p /var/www/amp-status
cd /var/www/amp-status
```

Upload the following files to this directory:

- `amp-status-relay.php`
- `.env`
- `relay.json`

---

## 📝 Step 3: Configure `.env`

```env
AMP_SHARED_KEY=YourSecureKeyHere
```

---

## ⚙️ Step 4: Configure `relay.json`

```json
{
  "logging": false,
  "instances": {
    "Rust: Server Name": {
      "host": "http://127.0.0.1:8081/",
      "username": "api_user",
      "password": "api_pass"
    },
    "Minecraft: Server Name": {
      "host": "http://127.0.0.1:8082/",
      "username": "api_user",
      "password": "api_pass"
    }
  }
}
```

---

## 🔐 Step 5: Set Permissions

```bash
sudo chown -R www-data:www-data /var/www/amp-status
sudo chmod -R 750 /var/www/amp-status
```

---

## 🌍 Step 6: Access the Relay

Open in your browser to verify there is data:

```
https://panel.yourdomain.xyz/amp-status-relay.php?key=YourSecureKeyHere
```

---

## ✅ All Set!

Your AMP Status Relay is now running and accessible.

---

# AMP Server Status WordPress Plugin Setup Guide

This guide walks you through installing and configuring the `amp-status.php` plugin on your WordPress site to display real-time AMP server data.

---

## 🧰 Requirements

- WordPress site  
- AMP Status Relay already running  
- PHP 7.4+ with `curl` enabled

---

## 📁 Step 1: Create the Plugin

1. Log into your WordPress site via FTP or file manager.
2. Navigate to:

   ```
   wp-content/plugins/
   ```
3. Create a new folder:

   ```
   amp-status
   ```
4. Inside the new folder, create a file named:

   ```
   amp-status.php
   ```
5. Paste the plugin code into this file.

---

## ⚙️ Step 2: Activate the Plugin

1. Log in to your WordPress Admin Dashboard.
2. Go to:

   ```
   Plugins > Installed Plugins
   ```
3. Find **AMP Server Status** and click **Activate**.

---

## 🛠 Step 3: Configure the Plugin

1. Go to:

   ```
   Settings > AMP Server Status
   ```

2. Fill in the following fields:

   - **Relay URL:** Full URL to your AMP relay (e.g., `https://panel.example.com/amp-status-relay.php`)
   - **Relay Key:** Secure key from your `.env` file on the AMP server

3. Click **Save Changes** to apply settings.

---

## 🧪 Step 4: Use the Shortcode

Place this shortcode anywhere on your WordPress site:

```shortcode
[amp_server_status]
```

Recommended usage:

- Add a new page or block in Elementor or the Classic Editor  
- Paste the shortcode where you want the AMP status cards to appear

---

## ✅ Done!

You should now see server status cards generated by the AMP Relay data on your site.

---

## ❓ Optional

1. Go to:

   ```
   Plugins > Plugin File Editor (select the correct plugin file!)
   ```

2. Edit the style of the status cards here.
